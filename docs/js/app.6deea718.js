(function(){"use strict";var t={694:function(t,s,e){var a=e(751),n=e(445),i=e(641),o=e(953),l=e(33);const r=(t,s)=>{localStorage.setItem(t,JSON.stringify(s))},d=t=>{const s=localStorage.getItem(t);if(s)return JSON.parse(s)},k=(0,n.nY)("myStore",{state:()=>({addTask:"",edTask:"",tasks:[],itemsPerPage:4,pages:0,inputTaskStore:null}),actions:{handlerAddTask(){this.addTask&&(Array.isArray(this.tasks)||(this.tasks=[]),this.tasks.unshift({title:this.addTask,completed:!1,editing:!1}),r("tasks",this.tasks),this.addTask="")},currentTasks(){if(!Array.isArray(this.tasks))return[];const t=this.pages*this.itemsPerPage;return this.tasks.slice(t,t+this.itemsPerPage)},totalPages(){return Array.isArray(this.tasks)?Math.ceil(this.tasks.length/this.itemsPerPage):0},handlerPagination(t){this.pages=t},removeTask(t){return this.tasks.splice(t+this.pages*this.itemsPerPage,1),r("tasks",this.tasks)},doneTask(t){this.tasks[t].completed=!this.tasks[t].completed,r("tasks",this.tasks)},edditingTask(t){const s=t+this.pages*this.itemsPerPage;this.tasks[s].editing||(this.tasks.map((t=>t.editing?t.editing=!1:t)),this.edTask=this.tasks[s].title),this.edTask!==this.tasks[s].title&&this.tasks[s].editing&&(this.tasks[s].title=this.edTask),this.tasks[s].editing=!this.tasks[s].editing,r("tasks",this.tasks)}}}),u={class:"icons"},c={key:0,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",fill:"#218d60"},h={key:1,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed"},p={key:2,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed"},v={key:3,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed"};var g={__name:"MyIcon",props:{type:{type:String}},setup(t){return(s,e)=>((0,i.uX)(),(0,i.CE)("div",u,["add"===t.type?((0,i.uX)(),(0,i.CE)("svg",c,e[0]||(e[0]=[(0,i.Lk)("path",{d:"M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"},null,-1)]))):(0,i.Q3)("",!0),"delete"===t.type?((0,i.uX)(),(0,i.CE)("svg",h,e[1]||(e[1]=[(0,i.Lk)("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"},null,-1)]))):(0,i.Q3)("",!0),"editing"===t.type?((0,i.uX)(),(0,i.CE)("svg",p,e[2]||(e[2]=[(0,i.Lk)("path",{d:"M160-120v-170l527-526q12-12 27-18t30-6q16 0 30.5 6t25.5 18l56 56q12 11 18 25.5t6 30.5q0 15-6 30t-18 27L330-120H160Zm80-80h56l393-392-28-29-29-28-392 393v56Zm560-503-57-57 57 57Zm-139 82-29-28 57 57-28-29ZM560-120q74 0 137-37t63-103q0-36-19-62t-51-45l-59 59q23 10 36 22t13 26q0 23-36.5 41.5T560-200q-17 0-28.5 11.5T520-160q0 17 11.5 28.5T560-120ZM183-426l60-60q-20-8-31.5-16.5T200-520q0-12 18-24t76-37q88-38 117-69t29-70q0-55-44-87.5T280-840q-45 0-80.5 16T145-785q-11 13-9 29t15 26q13 11 29 9t27-13q14-14 31-20t42-6q41 0 60.5 12t19.5 28q0 14-17.5 25.5T262-654q-80 35-111 63.5T120-520q0 32 17 54.5t46 39.5Z"},null,-1)]))):(0,i.Q3)("",!0),"check"===t.type?((0,i.uX)(),(0,i.CE)("svg",v,e[3]||(e[3]=[(0,i.Lk)("path",{d:"M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"},null,-1)]))):(0,i.Q3)("",!0)]))}};const f=g;var y=f;const m={class:"todo"},_={class:"container"},T={class:"main"},b={class:"content"},w={class:"task"},R={class:"visually-hidden"},P=["onClick"],L=["onKeyup"],C={class:"task__controls"},q=["onClick"],x=["onClick"],E=["onClick"],M={class:"pagination"},O=["onClick"];var X=(0,i.pM)({__name:"MyTodo",setup(t){const s=k();(0,i.pM)({"сomponents":{MyIcon:y}});const e=(0,o.KR)([]),n=(0,o.KR)(null);function u(t){(0,i.dY)((()=>{e.value[t]&&e.value[t].focus()}))}function c(t){n.value[t]&&(n.value[t].focus(),s.tasks[t].title=s.edTask,s.tasks[t].editing=!1,r("tasks",s.tasks))}return(0,i.sV)((()=>{s.tasks=d("tasks");const t=()=>{s.tasks.map((t=>t.editing=!1)),r("tasks",s.tasks)};window.addEventListener("beforeunload",t)})),(t,r)=>((0,i.uX)(),(0,i.CE)("div",m,[(0,i.Lk)("div",_,[r[10]||(r[10]=(0,i.Lk)("header",{class:"header"},[(0,i.Lk)("h1",{class:"header__title"},"ToDo list")],-1)),(0,i.Lk)("main",T,[(0,i.Lk)("div",b,[(0,i.bo)((0,i.Lk)("input",{class:"content__input",placeholder:"Добавить задачу...",type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>(0,o.R1)(s).addTask=t),onKeyup:r[1]||(r[1]=(0,a.jR)((e=>(0,o.R1)(s).handlerAddTask(t.idx)),["enter"]))},null,544),[[a.Jo,(0,o.R1)(s).addTask,void 0,{trim:!0}]]),(0,i.Lk)("button",{class:"content__button",onClick:r[2]||(r[2]=(...t)=>(0,o.R1)(s).handlerAddTask&&(0,o.R1)(s).handlerAddTask(...t))},[(0,i.bF)(y,{class:"content__icon",type:"add"}),r[4]||(r[4]=(0,i.Lk)("span",{class:"visually-hidden"},"Добавления задачи",-1))])]),(0,i.Lk)("ul",w,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,o.R1)(s).currentTasks(),((t,d)=>((0,i.uX)(),(0,i.CE)("li",{class:"task__item",key:d,tabindex:"0"},[(0,i.Lk)("span",R,"Текст списка номер "+(0,l.v_)(d+1)+". Задача "+(0,l.v_)((0,o.R1)(s).tasks[d].completed?"выполнена":"не выполнена"),1),(0,o.R1)(s).tasks[d+(0,o.R1)(s).pages*(0,o.R1)(s).itemsPerPage].editing?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("p",{key:0,class:"task__text",onClick:t=>(0,o.R1)(s).doneTask(d),style:(0,l.Tr)({textDecoration:(0,o.R1)(s).tasks[d].completed?"line-through wavy #ff0000":"none"})},(0,l.v_)(t.title),13,P)),(0,o.R1)(s).tasks[d+(0,o.R1)(s).pages*(0,o.R1)(s).itemsPerPage].editing?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.bo)((0,i.Lk)("input",{class:"task__input",type:"text","onUpdate:modelValue":r[3]||(r[3]=t=>(0,o.R1)(s).edTask=t),onKeyup:(0,a.jR)((t=>c(d+(0,o.R1)(s).pages*(0,o.R1)(s).itemsPerPage)),["enter"]),style:(0,l.Tr)({color:(0,o.R1)(s).tasks[d+(0,o.R1)(s).pages*(0,o.R1)(s).itemsPerPage].edditing?"#000000":"#9da09d"}),"aria-labelledby":"editing-message",ref_for:!0,ref:t=>e.value[d+(0,o.R1)(s).pages*(0,o.R1)(s).itemsPerPage]=t},null,44,L),[[a.Jo,(0,o.R1)(s).edTask]]),r[5]||(r[5]=(0,i.Lk)("span",{class:"visually-hidden",id:"editing-message"},"Редактирование задачи, нажмите Etner, чтобы закончить редактирование",-1))],64)):(0,i.Q3)("",!0),(0,i.Lk)("div",C,[(0,i.Lk)("button",{class:"task__button task__button-completed",onClick:t=>(0,o.R1)(s).doneTask(d)},[(0,i.bF)(y,{type:"check"}),r[6]||(r[6]=(0,i.Lk)("span",{class:"visually-hidden"},"Кнопка пометить задачу, как выыполненную",-1))],8,q),(0,i.Lk)("button",{class:"task__button task__button-edditing",ref_for:!0,ref_key:"buttonEd",ref:n,onClick:t=>{(0,o.R1)(s).edditingTask(d),u(d)}},[(0,i.bF)(y,{type:"editing"}),r[7]||(r[7]=(0,i.Lk)("span",{class:"visually-hidden"},"Редактирования задачи",-1))],8,x),(0,i.Lk)("button",{class:"task__button task__button-remove",onClick:t=>(0,o.R1)(s).removeTask(d)},[(0,i.bF)(y,{type:"delete"}),r[8]||(r[8]=(0,i.Lk)("span",{class:"visually-hidden"},"Удаления задачи",-1))],8,E)])])))),128))]),(0,i.Lk)("ul",M,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,o.R1)(s).totalPages(),(t=>((0,i.uX)(),(0,i.CE)("li",{class:"pagination__item",key:t},[(0,i.Lk)("button",{class:(0,l.C4)(["pagination__button",{activePage:(0,o.R1)(s).pages===t-1}]),onClick:e=>(0,o.R1)(s).handlerPagination(t-1)},[r[9]||(r[9]=(0,i.Lk)("span",{class:"visually-hidden"},"Номер страницы",-1)),(0,i.eW)(" "+(0,l.v_)(t),1)],10,O)])))),128))])])])]))}});const Z=X;var A=Z,j=(0,i.pM)({__name:"App",setup(t){return(0,i.pM)({"сomponents":{MyTodo:A},name:"MyApp"}),(t,s)=>((0,i.uX)(),(0,i.Wv)(A))}});const F=j;var K=F;const S=(0,n.Ey)();(0,a.Ef)(K).use(S).mount("#app")}},s={};function e(a){var n=s[a];if(void 0!==n)return n.exports;var i=s[a]={exports:{}};return t[a](i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(s,a,n,i){if(!a){var o=1/0;for(k=0;k<t.length;k++){a=t[k][0],n=t[k][1],i=t[k][2];for(var l=!0,r=0;r<a.length;r++)(!1&i||o>=i)&&Object.keys(e.O).every((function(t){return e.O[t](a[r])}))?a.splice(r--,1):(l=!1,i<o&&(o=i));if(l){t.splice(k--,1);var d=n();void 0!==d&&(s=d)}}return s}i=i||0;for(var k=t.length;k>0&&t[k-1][2]>i;k--)t[k]=t[k-1];t[k]=[a,n,i]}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){var t={524:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var n,i,o=a[0],l=a[1],r=a[2],d=0;if(o.some((function(s){return 0!==t[s]}))){for(n in l)e.o(l,n)&&(e.m[n]=l[n]);if(r)var k=r(e)}for(s&&s(a);d<o.length;d++)i=o[d],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(k)},a=self["webpackChunktodo_test_task"]=self["webpackChunktodo_test_task"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[504],(function(){return e(694)}));a=e.O(a)})();
//# sourceMappingURL=app.6deea718.js.map